webpackJsonp([79],{1012:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapDispatchToProps=void 0;var n=a(3),o=function(t){return t&&t.__esModule?t:{default:t}}(n),u=a(161),r=a(1073),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(r);e.mapDispatchToProps=function(t){return(0,u.bindActionCreators)((0,o.default)({},d),t)}},1073:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getProductList=e.getChangeScale=e.handleExport=e.GetButtonPower=e.handleCommit=e.handleGetDetailRecord=e.handleCancel=e.handleCarriedOut=e.handleChuweiInfo=e.handleGetList=e.update=void 0;var o=a(3),u=n(o),r=a(302),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(r),i=a(28),l=a(79),c=a(35),f=n(c);e.update=function(t){return{type:d.GOODSCHANGE_UPDATE,data:t}},e.handleGetList=function(t){return function(e){e({type:d.GOODSCHANGE_UPDATE,data:{tableLoading:!0}});var a=t.searchParams;for(var n in a)"[object Object]"===Object.prototype.toString.call(a[n])&&(a[n]=a[n].value);a.initDate&&a.initDate.length&&(a.beginTime=(0,f.default)(a.initDate[0]).format("YYYY-MM-DD"),a.endTime=(0,f.default)(a.initDate[1]).format("YYYY-MM-DD")),delete a.initDate,(0,i.getData)((0,u.default)({api:l.API_CHANGE_ORDER_PAGE},t)).then(function(a){var n=t.searchParams,o=n.page,u=n.size;e({type:d.GOODSCHANGE_UPDATE,data:{page:o,size:u,tableLoading:!1,total:a.result.total,selectedRowKeys:[],selectedRows:[],searchResult:a.result.list||[]}})}).catch(function(t){e({type:d.GOODSCHANGE_FILE})})}},e.handleChuweiInfo=function(t,e){return function(a){a({type:d.GOODSCHANGE_UPDATE,data:{createTableLoading:!0}});var n=l.API_FRMLOSSDTLORDERS_GETSTORAGELOCATIONFUZZYKEYVALUES;(0,i.getData)((0,u.default)({api:n},t)).then(function(t){a({type:d.GOODSCHANGE_UPDATE,data:{createTableLoading:!1}}),e&&e(t.result)}).catch(function(t){a({type:d.GOODSCHANGE_FILE})})}},e.handleCarriedOut=function(t,e){return function(a){a({type:d.GOODSCHANGE_UPDATE,data:{modalTuttonLoading:!0,tableLoading:!0}});var n=l.API_CHANGE_ORDER_EXECUTE;(0,i.getData)((0,u.default)({api:n},t)).then(function(t){a({type:d.GOODSCHANGE_UPDATE,data:{isShowModal:!1,codeNum:t.code}}),e&&e(t)}).catch(function(t){a({type:d.GOODSCHANGE_FILE})})}},e.handleCancel=function(t,e){return function(a){a({type:d.GOODSCHANGE_UPDATE,data:{modalTuttonLoading:!0}});var n=l.API_CHANGE_ORDER_CANCEL;(0,i.getData)((0,u.default)({api:n},t)).then(function(t){a({type:d.GOODSCHANGE_UPDATE,data:{modalTuttonLoading:!1,isShowModal:!1}}),e&&e(t)}).catch(function(t){a({type:d.GOODSCHANGE_FILE})})}},e.handleGetDetailRecord=function(t){return function(e){e({type:d.GOODSCHANGE_UPDATE,data:{tableLoading:!0}}),(0,i.getData)((0,u.default)({api:l.API_CHANGE_ORDER_DET},t)).then(function(t){e({type:d.GOODSCHANGE_UPDATE,data:{tableLoading:!1,searchResultRecord:t.result||[]}})}).catch(function(t){e({type:d.GOODSCHANGE_FILE})})}},e.handleCommit=function(t,e){return function(a){a({type:d.GOODSCHANGE_UPDATE,data:{tableLoading:!0}});var n=l.API_CHANGE_ORDER_CREATE;(0,i.getData)((0,u.default)({api:n},t)).then(function(t){a({type:d.GOODSCHANGE_UPDATE,data:{tableLoading:!1}}),e&&e(t)}).catch(function(t){a({type:d.GOODSCHANGE_FILE})})}},e.GetButtonPower=function(t){return function(e){(0,i.getData)((0,u.default)({api:l.API_GET_MENUS_PERMISSIONS_BANS},t)).then(function(t){var a=t.data,n={};a.map(function(t){n[t.menuCode]=!0}),e({type:d.GOODSCHANGE_UPDATE,data:(0,u.default)({},n)})}).catch(function(t){e({type:d.GOODSCHANGE_FILE})})}},e.handleExport=function(t,e){return function(a){var n=t.searchParams;for(var o in n)"[object Object]"===Object.prototype.toString.call(n[o])&&(n[o]=n[o].value);n.initDate&&n.initDate.length&&(n.beginTime=(0,f.default)(n.initDate[0]).format("YYYY-MM-DD"),n.endTime=(0,f.default)(n.initDate[1]).format("YYYY-MM-DD")),delete n.initDate,(0,i.getData)((0,u.default)({api:l.API_CHANGE_ORDER_EXPORT},t)).then(function(t){e&&e()}).catch(function(t){a({type:d.REQUISITIONSORDERS_FILE})})}},e.getChangeScale=function(t,e){return function(a){a({type:d.GOODSCHANGE_UPDATE,data:{createTableLoading:!0}});var n=l.API_CHANGE_ORDER_GETPROPORTION;(0,i.getData)((0,u.default)({api:n},t)).then(function(t){a({type:d.GOODSCHANGE_UPDATE,data:{createTableLoading:!1}}),e&&e(t.result)}).catch(function(t){a({type:d.GOODSCHANGE_FILE})})}},e.getProductList=function(t,e){return function(a){a({type:d.GOODSCHANGE_UPDATE,data:{createTableLoading:!0}});var n=l.API_CHANGE_GETPRODUCTLIST;(0,i.getData)((0,u.default)({api:n},t)).then(function(t){a({type:d.GOODSCHANGE_UPDATE,data:{createTableLoading:!1}}),e&&e(t.result)}).catch(function(t){a({type:d.GOODSCHANGE_FILE})})}}},910:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,u,r=a(278),d=n(r),i=a(274),l=n(i),c=a(276),f=n(c),s=a(18),E=n(s),p=a(5),D=n(p),O=a(10),h=n(O),_=a(6),G=n(_),A=a(7),y=n(A),C=a(3),m=n(C);a(279),a(275),a(277);var g=a(0),P=n(g),N=a(108),T=a(1012),S=(o=(0,N.connect)(function(t){return(0,m.default)({},t.goodsChange,{userLoation:t.userLoation})},T.mapDispatchToProps))(u=function(t){function e(){(0,D.default)(this,e);var t=(0,G.default)(this,(e.__proto__||(0,E.default)(e)).call(this));return t.handleCloseModal=function(){var e=t.props.history;e.length>1?e.goBack():window.close()},t.state={},t.columns=[{title:"原商品编码",width:100,dataIndex:"sourceProductCode",key:"sourceProductCode"},{title:"原商品名称",width:100,dataIndex:"sourceProductName",key:"sourceProductName"},{title:"转换编码",width:100,dataIndex:"targetProductCode",key:"targetProductCode"},{title:"转换商品",width:100,dataIndex:"targetProductName",key:"targetProductName"},{title:"储位",width:100,dataIndex:"storeLocationCode",key:"storeLocationCode"},{title:"消耗数量",width:100,dataIndex:"sourceQty",key:"sourceQty"},{title:"转换比例",width:100,dataIndex:"proportion",key:"proportion"},{title:"转换数量",width:100,dataIndex:"targetQty",key:"targetQty"},{title:"单价（不含税）",width:100,dataIndex:"price",key:"price"},{title:"总价（不含税）",width:100,dataIndex:"amount",key:"amount"}],t}return(0,y.default)(e,t),(0,h.default)(e,[{key:"componentDidMount",value:function(){this._getAsyncData()}},{key:"_getAsyncData",value:function(){var t=this.props,e=t.handleGetDetailRecord,a=t.match.params;t.history;e({urlParams:[a.id]})}},{key:"render",value:function(){var t=this.props,e=t.tableRecordLoading,a=t.searchResultRecord,n=a.header?a.header:"";return P.default.createElement("div",{className:"fullOrderDel"},P.default.createElement("span",{className:"ant-modal-close-x close",onClick:this.handleCloseModal}),P.default.createElement("div",{style:{paddingLeft:20}},P.default.createElement(l.default,null,P.default.createElement(f.default,{span:8},P.default.createElement("h4",null,"货主：",n.shipper)),P.default.createElement(f.default,{span:8},P.default.createElement("h4",null,"转换类型：",n.changeType)),P.default.createElement(f.default,{span:8},P.default.createElement("h4",null,"转换总额：",n.amount)),P.default.createElement(f.default,{span:24},P.default.createElement("h4",null,"备注：",n.remark)))),P.default.createElement("div",{className:"table-group",style:{margin:0}},P.default.createElement(d.default,{rowKey:function(t){return t.id},loading:e,columns:this.columns,scroll:{x:"max-content",y:400},dataSource:a.items,pagination:!1})))}}]),e}(g.PureComponent))||u;e.default=S,t.exports=e.default}});
//# sourceMappingURL=79.7117f8e6aeb48f57be14.js.map