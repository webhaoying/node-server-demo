webpackJsonp([72],{1003:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapDispatchToProps=void 0;var n=a(3),o=function(t){return t&&t.__esModule?t:{default:t}}(n),l=a(161),i=a(1070),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(i);e.mapDispatchToProps=function(t){return(0,l.bindActionCreators)((0,o.default)({},u),t)}},1070:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.GetButtonPower=e.handleFix=e.handleExport=e.handleCommit=e.handleGetDetailRecord=e.handleCancel=e.handleCarriedOut=e.handleGetGoodsInfo=e.handleGetList=e.update=void 0;var o=a(3),l=n(o),i=a(299),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(i),r=a(28),d=a(79),c=a(35),I=n(c);e.update=function(t){return{type:u.REQUISITIONSORDERS_UPDATE,data:t}},e.handleGetList=function(t){return function(e){console.log(1111),e({type:u.REQUISITIONSORDERS_UPDATE,data:{tableLoading:!0}});var a=t.searchParams;for(var n in a)"[object Object]"===Object.prototype.toString.call(a[n])&&(a[n]=a[n].value);a.initDate&&a.initDate.length&&(a.beginDate=(0,I.default)(a.initDate[0]).format("YYYY-MM-DD"),a.endDate=(0,I.default)(a.initDate[1]).format("YYYY-MM-DD")),delete a.initDate,(0,r.getData)((0,l.default)({api:d.API_REQUISITIONSORDERS_CREATE},t)).then(function(a){var n=t.searchParams,o=n.page,l=n.size;e({type:u.REQUISITIONSORDERS_UPDATE,data:{page:o,size:l,tableLoading:!1,total:a.result.total,selectedRowKeys:[],selectedRows:[],searchResult:a.result.list||[]}})}).catch(function(t){e({type:u.REQUISITIONSORDERS_FILE})})}},e.handleGetGoodsInfo=function(t,e){return function(a){a({type:u.REQUISITIONSORDERS_UPDATE});var n=d.API_REQUISITIONSORDERS_GETPRODUCTSTOCKBYCODE;(0,r.getData)((0,l.default)({api:n},t)).then(function(t){console.log(t.code),a({type:u.REQUISITIONSORDERS_UPDATE,data:{codeNum:t.code}}),e&&e(t.result)}).catch(function(t){a({type:u.REQUISITIONSORDERS_FILE})})}},e.handleCarriedOut=function(t,e){return function(a){a({type:u.REQUISITIONSORDERS_UPDATE,data:{tableLoading:!0}});var n=d.API_REQUISITIONSORDERS_EXECUTE;(0,r.getData)((0,l.default)({api:n},t)).then(function(t){console.log(t.code),a({type:u.REQUISITIONSORDERS_UPDATE,data:{isShowModal:!1,codeNum:t.code}}),e&&e(t)}).catch(function(t){a({type:u.REQUISITIONSORDERS_FILE})})}},e.handleCancel=function(t,e){return function(a){a({type:u.REQUISITIONSORDERS_UPDATE,data:{modalTuttonLoading:!0}});var n=d.API_REQUISITIONSORDERS_CLOSE;(0,r.getData)((0,l.default)({api:n},t)).then(function(t){console.log(t),200==t.code&&console.log(t.result),a({type:u.REQUISITIONSORDERS_UPDATE,data:{modalTuttonLoading:!1,isShowModal:!1}}),e&&e(t.result)}).catch(function(t){a({type:u.REQUISITIONSORDERS_FILE})})}},e.handleGetDetailRecord=function(t){return function(e){e({type:u.REQUISITIONSORDERS_UPDATE,data:{tableLoading:!0}}),(0,r.getData)((0,l.default)({api:d.API_REQUISITIONSDTLORDERS},t)).then(function(t){console.log(t),e({type:u.REQUISITIONSORDERS_UPDATE,data:{tableLoading:!1,searchResultRecord:t.result||[]}})}).catch(function(t){e({type:u.REQUISITIONSORDERS_FILE})})}},e.handleCommit=function(t,e){return function(a){a({type:u.REQUISITIONSORDERS_UPDATE,data:{tableLoading:!0}});var n=d.API_CREATEREQUISITIONSORDERS_CREATE;(0,r.getData)((0,l.default)({api:n},t)).then(function(t){a({type:u.REQUISITIONSORDERS_UPDATE,data:{tableLoading:!1}}),e&&e()}).catch(function(t){a({type:u.REQUISITIONSORDERS_FILE})})}},e.handleExport=function(t,e){return function(a){var n=t.searchParams;for(var o in n)"[object Object]"===Object.prototype.toString.call(n[o])&&(n[o]=n[o].value);n.initDate&&n.initDate.length&&(n.beginDate=(0,I.default)(n.initDate[0]).format("YYYY-MM-DD"),n.endDate=(0,I.default)(n.initDate[1]).format("YYYY-MM-DD")),delete n.initDate,(0,r.getData)((0,l.default)({api:d.API_REQUISITIONSORDERS_EXPORT},t)).then(function(t){e&&e()}).catch(function(t){a({type:u.REQUISITIONSORDERS_FILE})})}},e.handleFix=function(t,e){return function(a){a({type:u.REQUISITIONSORDERS_UPDATE,data:{buttonLoading:!0}}),(0,r.getData)((0,l.default)({api:d.API_FIX_REQUISITIONWRITEOFF},t)).then(function(t){a({type:u.REQUISITIONSORDERS_UPDATE,data:{buttonLoading:!1}}),e&&e()}).catch(function(t){a({type:u.REQUISITIONSORDERS_FILE})})}},e.GetButtonPower=function(t){return function(e){(0,r.getData)((0,l.default)({api:d.API_GET_MENUS_PERMISSIONS_BANS},t)).then(function(t){var a=t.data;console.log(a);var n={};a.map(function(t){n[t.menuCode]=!0}),e({type:u.REQUISITIONSORDERS_UPDATE,data:(0,l.default)({},n)})}).catch(function(t){e({type:u.REQUISITIONSORDERS_FILE})})}}},848:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,l,i=a(278),u=n(i),r=a(274),d=n(r),c=a(276),I=n(c),s=a(18),f=n(s),E=a(5),R=n(E),S=a(10),p=n(S),D=a(6),O=n(D),h=a(7),T=n(h),_=a(3),m=n(_);a(279),a(275),a(277);var y=a(0),U=n(y),g=a(108),N=a(1003),P=(o=(0,g.connect)(function(t){return(0,m.default)({},t.reqManagement,{userLoation:t.userLoation})},N.mapDispatchToProps))(l=function(t){function e(){(0,R.default)(this,e);var t=(0,O.default)(this,(e.__proto__||(0,f.default)(e)).call(this));return t.handleCloseModal=function(){var e=t.props.history;e.length>1?e.goBack():window.close()},t.state={},t.columns=[{title:"商品编号",width:100,dataIndex:"productCode",key:"productCode"},{title:"商品名称",width:100,dataIndex:"productName",key:"productName"},{title:"商品条码",width:100,dataIndex:"productBarCode",key:"productBarCode"},{title:"领用数量",width:100,dataIndex:"requisitionsQty",key:"requisitionsQty"},{title:"单价（元）",width:100,dataIndex:"productPrice",key:"productPrice"},{title:"总价（元）",width:100,dataIndex:"requisitionsAmount",key:"requisitionsAmount"}],t}return(0,T.default)(e,t),(0,p.default)(e,[{key:"componentDidMount",value:function(){this._getAsyncData()}},{key:"_getAsyncData",value:function(){var t=this.props,e=t.handleGetDetailRecord,a=t.match.params;t.history;console.log(a.id),e({searchParams:{orderCode:a.id}})}},{key:"render",value:function(){var t=this.props,e=t.tableRecordLoading,a=t.searchResultRecord,n=(t.orderCode,t.shipperName,t.requisitionsTypeName,t.requisitionsTotalAmount,t.remark,a.header?a.header:"");return U.default.createElement("div",{className:"fullOrderDel"},U.default.createElement("span",{className:"ant-modal-close-x close",onClick:this.handleCloseModal}),U.default.createElement("div",{style:{paddingLeft:20}},U.default.createElement(d.default,null,U.default.createElement(I.default,{span:8},U.default.createElement("h4",null,"货主：",n.shipperName)),U.default.createElement(I.default,{span:8},U.default.createElement("h4",null,"领用类型：",n.requisitionsTypeName)),U.default.createElement(I.default,{span:8},U.default.createElement("h4",null,"领用总额：",n.requisitionsTotalAmount)),U.default.createElement(I.default,{span:24},U.default.createElement("h4",null,"备用：",n.remark)))),U.default.createElement("div",{className:"table-group",style:{margin:0}},U.default.createElement(u.default,{rowKey:function(t){return t.id},loading:e,columns:this.columns,scroll:{x:900,y:400},dataSource:a.item,pagination:!1})))}}]),e}(y.PureComponent))||l;e.default=P,t.exports=e.default}});
//# sourceMappingURL=72.b4e9e0734aaa9f7c1256.js.map