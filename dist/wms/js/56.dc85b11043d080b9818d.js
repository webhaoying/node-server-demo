webpackJsonp([56],{1019:function(e,t,n){e.exports=n(1)(148)},1059:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapDispatchToProps=void 0;var a=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(a),r=n(161),i=n(1205),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i);t.mapDispatchToProps=function(e){return(0,r.bindActionCreators)((0,o.default)({},l),e)}},1202:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=n(92),l=a(i),u=n(274),s=a(u),d=n(160),c=a(d),f=n(276),p=a(f),m=n(53),_=a(m),b=n(18),h=a(b),y=n(5),v=a(y),g=n(10),E=a(g),R=n(6),T=a(R),x=n(7),I=a(x),S=n(3),w=a(S);n(93),n(275),n(80),n(277),n(54);var P=n(0),D=a(P),F=n(1203),k=a(F),U=n(280),C=n(108),O=n(79),A=n(1059),L=(o=(0,C.connect)(function(e){return(0,w.default)({},e.distributionRule)},A.mapDispatchToProps))(r=function(e){function t(){(0,v.default)(this,t);var e=(0,T.default)(this,(t.__proto__||(0,h.default)(t)).apply(this,arguments));return e.reset=function(){(0,e.props.update)({searchParams:{}})},e}return(0,I.default)(t,e),(0,E.default)(t,[{key:"onInputChange",value:function(e){var t=this.props,n=t.searchParams,a=t.update;console.log(e),a({searchParams:(0,w.default)({},n,e)})}},{key:"handleAdd",value:function(){var e=this.props,t=e.handleAddOrEdit,n=e.searchParams,a=e.handleGetList;if(!n.wmsOrderType)return void _.default.error("请选择出库类型");t({data:{businessTypeCode:n.businessType&&n.businessType.value}},function(){_.default.success("添加成功"),a()})}},{key:"render",value:function(){var e=this,t=this.props,n=t.searchParams,a=n.wmsOrderType,o=n.businessType,r=t.searchParams,i=t.modalTuttonLoading;return D.default.createElement(l.default,{className:k.default.form},D.default.createElement(s.default,{type:"flex",justify:"start"},D.default.createElement(p.default,{span:6},D.default.createElement(U.CsxSelect,{label:"出库类型",require:!0,dateApi:O.API_WMSORDERTYPEKEYVALUES,selectItem:{data:a,key:"key",valueKey:"value"},onChangeSelect:function(t){r.businessType={},e.onInputChange({wmsOrderType:t})}})),D.default.createElement(p.default,{span:6},D.default.createElement(U.CsxSelect,{label:"业务类型",require:!0,dateApi:O.API_BUSINESSTYPEVALUES,searchParams:{wmsOrderType:a&&a.value},selectItem:{data:o,key:"key",valueKey:"value"},errMessage:"请先选择出库类型",onChangeSelect:function(t){e.onInputChange({businessType:t})}})),D.default.createElement(p.default,{span:12},D.default.createElement(s.default,{type:"flex",justify:"end"},D.default.createElement(c.default,{type:"primary",style:{marginRight:20},loading:i,onClick:function(){e.handleAdd()}},"添加"),D.default.createElement(c.default,{type:"primary",onClick:function(){e.reset()}},"重置")))))}}]),t}(P.PureComponent))||r;t.default=l.default.create()(L),e.exports=t.default},1203:function(e,t,n){var a=n(1204);"string"==typeof a&&(a=[[e.i,a,""]]);var o={};o.transform=void 0;n(846)(a,o);a.locals&&(e.exports=a.locals)},1204:function(e,t,n){t=e.exports=n(845)(!1),t.push([e.i,"/*\n * author: zero\n * createdTime: 2018/04/04\n * */\n.distributionRule-components-style-Form__form--2qzt0 {\n  -webkit-box-shadow: 0px 3px 10px 0px rgba(33, 49, 123, 0.1);\n          box-shadow: 0px 3px 10px 0px rgba(33, 49, 123, 0.1); }\n\n.distributionRule-components-style-Form__form--2qzt0 {\n  background-color: #fff;\n  width: 100%;\n  padding: 15px !important;\n  line-height: 32px; }\n  .distributionRule-components-style-Form__form--2qzt0 .distributionRule-components-style-Form__form-item--2hfC- {\n    display: inline-block;\n    margin-right: 16px;\n    margin-bottom: 12px; }\n  .distributionRule-components-style-Form__form--2qzt0 .distributionRule-components-style-Form__hignSearch--2GTAw {\n    cursor: pointer;\n    margin-left: 10px;\n    font-size: 14px;\n    color: #1890ff;\n    line-height: 32px;\n    margin-right: 15px; }\n  .distributionRule-components-style-Form__form--2qzt0 .distributionRule-components-style-Form__transition--1p36e {\n    -webkit-transition: height 0.3s, padding 0.3s, -webkit-transform 0.3s;\n    transition: height 0.3s, padding 0.3s, -webkit-transform 0.3s;\n    transition: height 0.3s, padding 0.3s, transform 0.3s;\n    transition: height 0.3s, padding 0.3s, transform 0.3s, -webkit-transform 0.3s; }\n  .distributionRule-components-style-Form__form--2qzt0 .distributionRule-components-style-Form__aniSlideUp--3iqs8 {\n    height: 0;\n    overflow: hidden;\n    padding-top: 0;\n    padding-bottom: 0;\n    border: none; }\n  .distributionRule-components-style-Form__form--2qzt0 .distributionRule-components-style-Form__aniRotate--2u_es {\n    -webkit-transform: rotate(180deg);\n            transform: rotate(180deg); }\n  .distributionRule-components-style-Form__form--2qzt0 .distributionRule-components-style-Form__targetHeight--3XuaF {\n    margin-top: 10px;\n    padding-top: 10px;\n    border-top: 1px dashed #D2D3D4;\n    min-height: 47px; }\n  .distributionRule-components-style-Form__form--2qzt0 .distributionRule-components-style-Form__mw200--3wDIu {\n    min-width: 200px; }\n  .distributionRule-components-style-Form__form--2qzt0 .distributionRule-components-style-Form__wp22--3jCbr {\n    width: 30%; }\n  .distributionRule-components-style-Form__form--2qzt0 .distributionRule-components-style-Form__mr10--ClIwr {\n    margin-right: 10px; }\n  .distributionRule-components-style-Form__form--2qzt0 .distributionRule-components-style-Form__w100--K7dnl {\n    width: 100%; }\n  .distributionRule-components-style-Form__form--2qzt0 .distributionRule-components-style-Form__mb15--3njMJ {\n    margin-bottom: 15px; }\n",""]),t.locals={form:"distributionRule-components-style-Form__form--2qzt0","form-item":"distributionRule-components-style-Form__form-item--2hfC-",hignSearch:"distributionRule-components-style-Form__hignSearch--2GTAw",transition:"distributionRule-components-style-Form__transition--1p36e",aniSlideUp:"distributionRule-components-style-Form__aniSlideUp--3iqs8",aniRotate:"distributionRule-components-style-Form__aniRotate--2u_es",targetHeight:"distributionRule-components-style-Form__targetHeight--3XuaF",mw200:"distributionRule-components-style-Form__mw200--3wDIu",wp22:"distributionRule-components-style-Form__wp22--3jCbr",mr10:"distributionRule-components-style-Form__mr10--ClIwr",w100:"distributionRule-components-style-Form__w100--K7dnl",mb15:"distributionRule-components-style-Form__mb15--3njMJ"}},1205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleSave=t.handleDel=t.handleAddOrEdit=t.handleGetList=t.update=void 0;var a=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(a),r=n(335),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),l=n(28),u=n(79);t.update=function(e){return{type:i.DISTRIBUTIONRULE_UPDATE,data:e}},t.handleGetList=function(e){return function(t){t({type:i.DISTRIBUTIONRULE_UPDATE,data:{tableLoading:!0}}),(0,l.getData)((0,o.default)({api:u.API_DISTRIBUTIONRULES_PAGE},e)).then(function(e){console.log(e),t({type:i.DISTRIBUTIONRULE_UPDATE,data:{tableLoading:!1,searchResult:e.result||[]}})}).catch(function(e){t({type:i.DISTRIBUTIONRULE_FILE})})}},t.handleAddOrEdit=function(e,t){return function(n){n({type:i.DISTRIBUTIONRULE_UPDATE,data:{modalTuttonLoading:!0}});var a=u.API_CREATEDISTRIBUTIONRULES_CREATE;(0,l.getData)((0,o.default)({api:a},e)).then(function(e){n({type:i.DISTRIBUTIONRULE_UPDATE,data:{modalTuttonLoading:!1,isShowModal:!1}}),t&&t()}).catch(function(e){n({type:i.DISTRIBUTIONRULE_FILE})})}},t.handleDel=function(e,t){return function(n){(0,l.getData)((0,o.default)({api:u.API_DISTRIBUTIONRULES_DELETE},e)).then(function(e){t&&t()}).catch(function(e){n({type:i.DISTRIBUTIONRULE_FILE})})}},t.handleSave=function(e,t){return function(n){(0,l.getData)((0,o.default)({api:u.API_UPDATEDISTRIBUTIONRULES_SAVE},e)).then(function(e){t&&t()}).catch(function(e){n({type:i.DISTRIBUTIONRULE_FILE})})}}},1206:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r,i=n(278),l=a(i),u=n(53),s=a(u),d=n(18),c=a(d),f=n(5),p=a(f),m=n(10),_=a(m),b=n(6),h=a(b),y=n(7),v=a(y),g=n(3),E=a(g),R=n(48),T=a(R),x=n(1019),I=a(x),S=n(90),w=a(S);n(279),n(54),n(41),n(289),n(91);var P=n(0),D=a(P),F=n(108),k=n(1059),U=w.default.confirm,C=I.default.Group,O=T.default.Option,A=(o=(0,F.connect)(function(e){return(0,E.default)({},e.distributionRule,{userLoation:(0,E.default)({},e.userLoation)})},k.mapDispatchToProps))(r=function(e){function t(){(0,p.default)(this,t);var e=(0,h.default)(this,(t.__proto__||(0,c.default)(t)).call(this));return e.handleChange=function(t){(0,e.props.update)({distrabuteRule:t})},e.state={},e.columns=[{title:"操作",width:100,dataIndex:"",key:"",render:function(t,n,a){return D.default.createElement("div",{className:"tableOperation"},D.default.createElement("span",{className:"blue",onClick:function(){e.onSave(t,n,a)}},"保存"),D.default.createElement("span",{className:"red",onClick:function(){e.onDel(t,n,a)}},"删除"))}},{title:"出库类型",width:100,dataIndex:"wmsOrderType",key:"wmsOrderType"},{title:"业务类型",width:100,dataIndex:"businessType",key:"businessType"},{title:"支持超量发货",width:100,dataIndex:"fullAmount",key:"fullAmount",render:function(t,n,a){var o=n.businessTypeCode||"",r="24"===o||"25"===o||"55"===o;return D.default.createElement(C,{value:n.overShippingType||"N",disabled:!r,onChange:function(t){n.overShippingType=t.target.value,console.log(n.overShippingType),e.forceUpdate()}},D.default.createElement(I.default,{value:"Y"},"是"),D.default.createElement(I.default,{value:"N"},"否"))}},{title:"分配规则",width:220,dataIndex:"distrabuteRuleDesc",key:"distrabuteRuleDesc",render:function(t,n,a){if("寄售POS销售"==n.businessType||"自营POS销售"==n.businessType)return D.default.createElement(T.default,{style:{width:180},defaultValue:n.distrabuteRule,onChange:e.handleChange,disabled:!0},D.default.createElement(O,{value:1},"按权重分配"),D.default.createElement(O,{value:2},"按门店优先级分配"),D.default.createElement(O,{value:3},"按创建时间优先分配"),D.default.createElement(O,{value:4},"按轮询分配"),D.default.createElement(O,{value:5},"按波次总量分配"));var o=n.businessTypeCode||"";return"23"===o||"24"===o||"25"===o||"55"===o||"58"===o||"A23"===o||"A24"===o||"A25"===o||"A55"===o||"06"===o||"07"===o?D.default.createElement(T.default,{style:{width:180},defaultValue:n.distrabuteRule,onChange:e.handleChange},D.default.createElement(O,{value:1},"按权重分配"),D.default.createElement(O,{value:2},"按门店优先级分配"),D.default.createElement(O,{value:3},"按创建时间优先分配"),D.default.createElement(O,{value:4},"按轮询分配"),D.default.createElement(O,{value:5},"按波次总量分配")):D.default.createElement(T.default,{style:{width:180},defaultValue:n.distrabuteRule,onChange:e.handleChange},D.default.createElement(O,{value:1},"按权重分配"),D.default.createElement(O,{value:2},"按门店优先级分配"),D.default.createElement(O,{value:3},"按创建时间优先分配"),D.default.createElement(O,{value:4},"按轮询分配"))}}],e}return(0,v.default)(t,e),(0,_.default)(t,[{key:"onDel",value:function(e,t,n){var a=this.props,o=a.handleGetList,r=a.handleDel;U({title:"温馨提示",content:"是否删除该条信息？",okText:"确认",width:520,cancelText:"取消",onOk:function(){r({urlParams:[t.id]},function(){s.default.success("删除成功"),o()})}})}},{key:"onSave",value:function(e,t,n){var a=this.props,o=a.handleGetList,r=a.handleSave,i=a.distrabuteRule;r({data:{id:t.id,overShippingType:t.overShippingType,distrabuteRule:i}},function(){s.default.success("保存成功"),o()})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.handleGetList,n=e.userLoation;n&&n.value&&t()}},{key:"componentWillReceiveProps",value:function(e,t){var n=this.props,a=n.handleGetList,o=n.userLoation;e.userLoation.value!=o.value&&a()}},{key:"render",value:function(){var e=this.props,t=e.tableLoading,n=e.searchResult;return D.default.createElement("div",{className:"table-group"},D.default.createElement(l.default,{rowKey:function(e){return e.id},loading:t,columns:this.columns,dataSource:n,scroll:{x:1050,y:400},onChange:this.onChange,pagination:!1}))}}]),t}(P.PureComponent))||r;t.default=A,e.exports=t.default},867:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r,i=n(18),l=a(i),u=n(5),s=a(u),d=n(10),c=a(d),f=n(6),p=a(f),m=n(7),_=a(m),b=n(3),h=a(b),y=n(933),v=n(0),g=a(v),E=n(1202),R=a(E),T=n(1206),x=a(T),I=n(108),S=n(1059),w=n(336),P=a(w),D=(o=(0,I.connect)(function(e){return(0,h.default)({},e.distributionRule)},S.mapDispatchToProps))(r=function(e){function t(){return(0,s.default)(this,t),(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this))}return(0,_.default)(t,e),(0,c.default)(t,[{key:"componentWillUnmount",value:function(){(0,this.props.update)(P.default)}},{key:"render",value:function(){return g.default.createElement("section",null,g.default.createElement(y.Bread,{route:["配置信息","规则设置","分配规则"]}),g.default.createElement(R.default,null),g.default.createElement(x.default,null))}}]),t}(v.PureComponent))||r;t.default=D,e.exports=t.default},933:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(934),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default={Bread:o.default},e.exports=t.default},934:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(935),r=a(o),i=n(18),l=a(i),u=n(5),s=a(u),d=n(10),c=a(d),f=n(6),p=a(f),m=n(7),_=a(m);n(936);var b=n(0),h=a(b),y=n(939),v=a(y),g=function(e){function t(e){return(0,s.default)(this,t),(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e))}return(0,_.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.route;return h.default.createElement("div",{className:v.default.overHidden},h.default.createElement("div",{className:v.default.iconStyle}),h.default.createElement(r.default,{className:v.default.breadcrumb},e&&e.map(function(e,t){return h.default.createElement(r.default.Item,{key:t},e)})))}}]),t}(b.Component);t.default=g,e.exports=t.default},935:function(e,t,n){e.exports=n(1)(649)},936:function(e,t,n){"use strict";n(25),n(937)},937:function(e,t,n){var a=n(938);"string"==typeof a&&(a=[[e.i,a,""]]);var o={};o.transform=void 0;n(846)(a,o);a.locals&&(e.exports=a.locals)},938:function(e,t,n){t=e.exports=n(845)(!1),t.push([e.i,'/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n.ant-breadcrumb {\n  font-family: "Monospaced Number", "Chinese Quote", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue", Helvetica, Arial, sans-serif;\n  line-height: 1.5;\n  color: rgba(0, 0, 0, 0.65);\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  color: rgba(0, 0, 0, 0.45);\n  font-size: 14px;\n}\n.ant-breadcrumb .anticon {\n  font-size: 12px;\n}\n.ant-breadcrumb a {\n  color: rgba(0, 0, 0, 0.45);\n  -webkit-transition: color .3s;\n  transition: color .3s;\n}\n.ant-breadcrumb a:hover {\n  color: #40a9ff;\n}\n.ant-breadcrumb > span:last-child {\n  color: rgba(0, 0, 0, 0.65);\n}\n.ant-breadcrumb > span:last-child .ant-breadcrumb-separator {\n  display: none;\n}\n.ant-breadcrumb-separator {\n  margin: 0 8px;\n  color: rgba(0, 0, 0, 0.45);\n}\n.ant-breadcrumb-link > .anticon + span {\n  margin-left: 4px;\n}\n',""])},939:function(e,t,n){var a=n(940);"string"==typeof a&&(a=[[e.i,a,""]]);var o={};o.transform=void 0;n(846)(a,o);a.locals&&(e.exports=a.locals)},940:function(e,t,n){t=e.exports=n(845)(!1),t.push([e.i,"._-_-components-Bread-index__overHidden--EoDY8 {\n  overflow: hidden;\n  margin: 15px 0; }\n\n._-_-components-Bread-index__iconStyle--q7m1H {\n  float: left;\n  background-color: #1890ff;\n  margin-top: 2px;\n  width: 3px;\n  height: 18px; }\n\n._-_-components-Bread-index__breadcrumb--3NPJi {\n  float: left;\n  padding-left: 15px;\n  font-size: 12px;\n  color: #A1A6AD; }\n  ._-_-components-Bread-index__breadcrumb--3NPJi > span:last-child {\n    font-size: 14px;\n    color: #000; }\n",""]),t.locals={overHidden:"_-_-components-Bread-index__overHidden--EoDY8",iconStyle:"_-_-components-Bread-index__iconStyle--q7m1H",breadcrumb:"_-_-components-Bread-index__breadcrumb--3NPJi"}}});
//# sourceMappingURL=56.dc85b11043d080b9818d.js.map