webpackJsonp([78],{1002:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapDispatchToProps=void 0;var l=a(3),n=function(e){return e&&e.__esModule?e:{default:e}}(l),d=a(161),i=a(1023),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(i);t.mapDispatchToProps=function(e){return(0,d.bindActionCreators)((0,n.default)({},r),e)}},1023:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GetButtonPower=t.handleUpdatePrintNum=t.handleExport=t.handleDelivery=t.handleClose=t.handleGetDetailRecord=t.handleGetDetailPrint=t.handleTabDetail=t.handleGetDetail=t.handleGetList=t.update=void 0;var n=a(3),d=l(n),i=a(290),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(i),u=a(28),o=a(79),c=a(35),s=l(c);t.update=function(e){return{type:r.INWAREHOUSELIST_UPDATE,data:e}},t.handleGetList=function(e,t){return function(a){a({type:r.INWAREHOUSELIST_UPDATE,data:{tableLoading:!0}});var l=(0,d.default)({},e.searchParams,{type:"N"});for(var n in l)"[object Object]"===Object.prototype.toString.call(l[n])&&(l[n]="productName"===n?l[n].children:l[n].value);l.initDate&&l.initDate.length&&(l.planReceiveDateStart=(0,s.default)(l.initDate[0]).format("YYYY-MM-DD"),l.planReceiveDateEnd=(0,s.default)(l.initDate[1]).format("YYYY-MM-DD")),l.initDate1&&l.initDate1.length&&(l.closeTimeStart=(0,s.default)(l.initDate1[0]).format("YYYY-MM-DD"),l.closeTimeEnd=(0,s.default)(l.initDate1[1]).format("YYYY-MM-DD")),l.initDate2&&l.initDate2.length&&(l.createTimeStart=(0,s.default)(l.initDate2[0]).format("YYYY-MM-DD"),l.createTimeEnd=(0,s.default)(l.initDate2[1]).format("YYYY-MM-DD")),delete l.initDate,delete l.initDate1,delete l.initDate2,e.searchParams=l,t?(0,u.getData)((0,d.default)({api:o.API_ENTRYORDERS_PAGE},e)).then(function(t){var l=e.searchParams,n=l.page,d=l.size;a({type:r.INWAREHOUSELIST_UPDATE,data:{page:n,size:d,tableLoading:!1,total:t.result.total,selectedRowKeys:[],selectedRows:[],searchResult:t.result.list||[]}})}).catch(function(e){a({type:r.INWAREHOUSELIST_FILE})}):(0,u.getData)((0,d.default)({api:o.API_ENTRY_LOADCOUNTS},e)).then(function(t){var l=t.result;console.log(l,55);var n=["0","1","2","3"],i="",c={tab0:"",tab1:"",tab2:"",tab3:""};l.map(function(e){console.log(e,222),c["tab"+e.key]=e.value});for(var s=0;s<n.length;s++){for(var f=0;f<l.length;f++)if(l[f].key==n[s]&&l[f].value){i=n[s];break}if(i)break}i&&(e.searchParams.receiveStatus=i),(0,u.getData)((0,d.default)({api:o.API_ENTRYORDERS_PAGE},e)).then(function(t){var l=e.searchParams,n=l.page,u=l.size;a({type:r.INWAREHOUSELIST_UPDATE,data:(0,d.default)({page:n,size:u,tableLoading:!1,total:t.result.total,tableActiveKey:i,selectedRowKeys:[],selectedRows:[],searchResult:t.result.list||[]},c)})}).catch(function(e){a({type:r.INWAREHOUSELIST_FILE})})}).catch(function(e){a({type:r.INWAREHOUSELIST_FILE})})}},t.handleGetDetail=function(e,t){return function(a){a({type:r.INWAREHOUSELIST_UPDATE,data:{deliveryTableLoading:!0}}),(0,u.getData)((0,d.default)({api:o.API_ENTRYORDERS_PAGE},e)).then(function(e){t&&t(),a({type:r.INWAREHOUSELIST_UPDATE,data:{deliveryTableLoading:!1,modalData:e.result||{}}})}).catch(function(e){a({type:r.INWAREHOUSELIST_FILE,data:{isShowDeliveryModal:!1}})})}},t.handleTabDetail=function(e){return function(t){t({type:r.INWAREHOUSELIST_UPDATE,data:{deliveryTableLoading:!0}}),(0,u.getData)((0,d.default)({api:o.API_ENTRYORDERS_BATCHDETAIL},e)).then(function(e){t({type:r.INWAREHOUSELIST_UPDATE,data:{deliveryTableLoading:!1,modalData:e.result||{}}})}).catch(function(e){t({type:r.INWAREHOUSELIST_FILE})})}},t.handleGetDetailPrint=function(e,t){return function(a){a({type:r.INWAREHOUSELIST_UPDATE,data:{printLoading:!0}});var l=o.API_ENTRYORDERS_PRINT;t&&1==t&&(l=o.API_ENTRYORDERS_ALLPRINT),(0,u.getData)((0,d.default)({api:l},e)).then(function(e){a({type:r.INWAREHOUSELIST_UPDATE,data:{printLoading:!1,printData:e.result||[]}})}).catch(function(e){a({type:r.INWAREHOUSELIST_FILE})})}},t.handleGetDetailRecord=function(e){return function(t){t({type:r.INWAREHOUSELIST_UPDATE,data:{deliveryTableLoading:!0}}),(0,u.getData)((0,d.default)({api:o.API_ENTRYORDERS_ENTRYORDERTRACE_PAGE},e)).then(function(e){t({type:r.INWAREHOUSELIST_UPDATE,data:{deliveryTableLoading:!1,searchResultRecord:e.result||[]}})}).catch(function(e){t({type:r.INWAREHOUSELIST_FILE})})}},t.handleClose=function(e,t){return function(a){a({type:r.INWAREHOUSELIST_UPDATE,data:{tableLoading:!0}});var l=o.API_ENTRYORDERS_CLOSEDORDERS;(0,u.getData)((0,d.default)({api:l},e)).then(function(e){a({type:r.INWAREHOUSELIST_UPDATE,data:{tableLoading:!1,selectedRowKeys:[],selectedRows:[]}}),t&&t()}).catch(function(e){a({type:r.INWAREHOUSELIST_FILE})})}},t.handleDelivery=function(e,t){return function(a){a({type:r.INWAREHOUSELIST_UPDATE,data:{deliveryTableLoading:!0}});var l=o.API_ENTRYORDERS_UPDATE;(0,u.getData)((0,d.default)({api:l},e)).then(function(e){a({type:r.INWAREHOUSELIST_UPDATE,data:{deliveryTableLoading:!1}}),t&&t()}).catch(function(e){a({type:r.INWAREHOUSELIST_FILE})})}},t.handleExport=function(e,t){return function(a){var l=(0,d.default)({},e.searchParams,{type:"N"});for(var n in l)"[object Object]"===Object.prototype.toString.call(l[n])&&(l[n]=l[n].value);l.initDate&&l.initDate.length&&(l.planReceiveDateStart=(0,s.default)(l.initDate[0]).format("YYYY-MM-DD"),l.planReceiveDateEnd=(0,s.default)(l.initDate[1]).format("YYYY-MM-DD")),l.initDate1&&l.initDate1.length&&(l.closeTimeStart=(0,s.default)(l.initDate1[0]).format("YYYY-MM-DD"),l.closeTimeEnd=(0,s.default)(l.initDate1[1]).format("YYYY-MM-DD")),l.initDate2&&l.initDate2.length&&(l.createTimeStart=(0,s.default)(l.initDate2[0]).format("YYYY-MM-DD"),l.createTimeEnd=(0,s.default)(l.initDate2[1]).format("YYYY-MM-DD")),delete l.initDate,delete l.initDate1,delete l.initDate2,e.searchParams=l,(0,u.getData)((0,d.default)({api:o.API_ENTRYORDERS_EXPORT},e)).then(function(e){t&&t()}).catch(function(e){a({type:r.INVENTORYDETAIL_FILE})})}},t.handleUpdatePrintNum=function(e,t){return function(a){(0,u.getData)((0,d.default)({api:o.API_ENTRYORDERS_PRINTTIMES},e)).then(function(e){t&&t()}).catch(function(e){a({type:r.INVENTORYDETAIL_FILE})})}},t.GetButtonPower=function(e){return function(t){(0,u.getData)((0,d.default)({api:o.API_GET_MENUS_PERMISSIONS_BANS},e)).then(function(e){var a=e.data;console.log(a);var l={};a.map(function(e){l[e.menuCode]=!0}),t({type:r.INWAREHOUSELIST_UPDATE,data:(0,d.default)({},l)})}).catch(function(e){t({type:r.INVENTORYDETAIL_FILE})})}}},880:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,d,i=a(278),r=l(i),u=a(274),o=l(u),c=a(276),s=l(c),f=a(18),E=l(f),p=a(5),m=l(p),h=a(10),D=l(h),y=a(6),I=l(y),T=a(7),R=l(T),S=a(3),N=l(S),_=a(282),v=l(_);a(279),a(275),a(277),a(281);var A=a(0),L=l(A),P=a(108),Y=a(1002),b=v.default.TabPane,O=(n=(0,P.connect)(function(e){return(0,N.default)({},e.inWarehouseList,{userLoation:e.userLoation})},Y.mapDispatchToProps))(d=function(e){function t(){(0,m.default)(this,t);var e=(0,I.default)(this,(t.__proto__||(0,E.default)(t)).call(this));return e.handleCloseModal=function(){var t=e.props.history;t.length>1?t.goBack():window.close()},e.state={},e.columns=[{title:"商品编码",width:150,dataIndex:"productCode",key:"productCode"},{title:"商品名称",width:150,dataIndex:"productName",key:"productName"},{title:"收货单位",width:100,dataIndex:"unit",key:"unit"},{title:"生产日期",width:150,dataIndex:"produceDate",key:"produceDate"},{title:"单价（元）",width:100,dataIndex:"price",key:"price"},{title:"计划数",width:100,dataIndex:"planQty",key:"planQty"},{title:"发货数",width:100,dataIndex:"shippedQty",key:"shippedQty"},{title:"实收数",width:100,dataIndex:"receiveQty",key:"receiveQty"},{title:"实收赠品数",width:100,dataIndex:"giftQty",key:"giftQty"},{title:"上架数",width:100,dataIndex:"shelfQty",key:"shelfQty"},{title:"总额",width:100,dataIndex:"amount",key:"amount"},{title:"退货原因",width:150,dataIndex:"returnReason",key:"returnReason"},{title:"备注",width:150,dataIndex:"remark",key:"remark"}],e.columnsT03=[{title:"商品编码",width:150,dataIndex:"productCode",key:"productCode"},{title:"商品名称",width:150,dataIndex:"productName",key:"productName"},{title:"收货单位",width:100,dataIndex:"unit",key:"unit"},{title:"生产日期",width:150,dataIndex:"produceDate",key:"produceDate"},{title:"单价（元）",width:100,dataIndex:"price",key:"price"},{title:"申偿数",width:100,dataIndex:"passQty",key:"passQty"},{title:"发货数",width:100,dataIndex:"shippedQty",key:"shippedQty"},{title:"实收数",width:100,dataIndex:"receiveQty",key:"receiveQty"},{title:"拒绝数",width:100,dataIndex:"rejectQty",key:"rejectQty"},{title:"总额",width:100,dataIndex:"amount",key:"amount"},{title:"退货原因",width:150,dataIndex:"returnReason",key:"returnReason"},{title:"备注",width:150,dataIndex:"remark",key:"remark"}],e.columns2=[{title:"商品编码",width:150,dataIndex:"productCode",key:"productCode"},{title:"商品名称",width:150,dataIndex:"productName",key:"productName"},{title:"单位",width:100,dataIndex:"unit",key:"unit"},{title:"生产日期",width:150,dataIndex:"produceDate",key:"produceDate"},{title:"单价（元）",width:100,dataIndex:"price",key:"price"},{title:"总金额（元）",width:100,dataIndex:"amount",key:"amount"},{title:"收货数",width:100,dataIndex:"receiveQty",key:"receiveQty"},{title:"上架储位",width:150,dataIndex:"shelfStoreLocationCode",key:"shelfStoreLocationCode"},{title:"上架数",width:100,dataIndex:"shelfQty",key:"shelfQty"}],e}return(0,R.default)(t,e),(0,D.default)(t,[{key:"componentDidMount",value:function(){this._getAsyncData()}},{key:"_getAsyncData",value:function(){var e=this.props;(0,e.handleTabDetail)({searchParams:{orderCode:e.match.params.id}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalData,l=t.deliveryTableLoading,n=t.activeKey,d=t.update;return L.default.createElement("div",{className:"fullOrderDel"},L.default.createElement("span",{className:"ant-modal-close-x close",onClick:this.handleCloseModal}),L.default.createElement(v.default,{activeKey:n,onChange:function(e){d({activeKey:e})}},L.default.createElement(b,{tab:"入库单详情",key:"1"},L.default.createElement("div",{className:"content"},L.default.createElement("div",{className:"header"},L.default.createElement(o.default,{type:"flex",justify:"start"},L.default.createElement(s.default,{span:6,className:"delBox"},L.default.createElement("label",null,"入库单号："),L.default.createElement("span",null,a.orderCode||"")),L.default.createElement(s.default,{span:6,className:"delBox"},L.default.createElement("label",null,"来源单号："),L.default.createElement("span",null,a.originOrderCode||"")),L.default.createElement(s.default,{span:6,className:"delBox"},L.default.createElement("label",null,"关联单号："),L.default.createElement("span",null,a.linkOrderCode||"")),L.default.createElement(s.default,{span:6,className:"delBox"},L.default.createElement("label",null,"供应商："),L.default.createElement("span",null,a.supplierName||"")),L.default.createElement(s.default,{span:6,className:"delBox"},L.default.createElement("label",null,"来源地点："),L.default.createElement("span",null,(a.sendLocationCode||"")+"-"+(a.sendLocationName||""))),L.default.createElement(s.default,{span:6,className:"delBox"},L.default.createElement("label",null,"订单状态："),L.default.createElement("span",null,a.receiveStatus||"")),L.default.createElement(s.default,{span:6,className:"delBox"},L.default.createElement("label",null,"采购用途："),L.default.createElement("span",null,a.orderSourceDesc||"")),L.default.createElement(s.default,{span:6,className:"delBox"},L.default.createElement("label",null,"退货原因："),L.default.createElement("span",null,a.returnReasonRemark||"")),L.default.createElement(s.default,{span:6,className:"delBox"},L.default.createElement("label",null,"签收日期："),L.default.createElement("span",null,a.signDate||"")))),L.default.createElement("div",{className:"foot"},L.default.createElement("div",{className:"table-group"},L.default.createElement(r.default,{rowKey:function(e){return e.id},loading:l,columns:"T03"==a.entryType?this.columnsT03:this.columns,scroll:{x:"max-content",y:400},dataSource:a.productItems,pagination:!1}))))),L.default.createElement(b,{tab:"入库明细（"+a.batchCount+"）",key:"2"},a.batchReponseList&&a.batchReponseList.map(function(t,a){return L.default.createElement("div",{className:"table-group",key:t.batchCode},L.default.createElement("div",{className:"header"},L.default.createElement(o.default,{type:"flex",justify:"start"},L.default.createElement(s.default,{span:6,className:"delBox"},L.default.createElement("label",null,"入库批次："),L.default.createElement("span",null,t.batchCode||"")),L.default.createElement(s.default,{span:6,className:"delBox"},L.default.createElement("label",null,"创建时间："),L.default.createElement("span",null,t.createTime||"")),L.default.createElement(s.default,{span:6,className:"delBox"},L.default.createElement("label",null,"操作人："),L.default.createElement("span",null,t.createBy||"")),L.default.createElement(s.default,{span:6,className:"delBox"},L.default.createElement("label",null,"是否冲销："),L.default.createElement("span",null,t.writeOffFlag?"已冲销":"未冲销")))),L.default.createElement(r.default,{rowKey:function(e){return Math.random()},loading:l,columns:e.columns2,scroll:{x:"max-content",y:400},dataSource:t.batchDetailList,pagination:!1}))}))))}}]),t}(A.PureComponent))||d;t.default=O,e.exports=t.default}});
//# sourceMappingURL=78.ea792addfd50bdd99e52.js.map