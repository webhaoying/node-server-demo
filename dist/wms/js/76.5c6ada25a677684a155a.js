webpackJsonp([76],{1001:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.handleSignFor=t.handleShippedorders=t.handleUpdatediff=t.handleExportCyorder=t.handleCyorderPage=t.handleExportShortage=t.handleCyorDerchek=t.BBCCancelOrder=t.GetButtonPower=t.handleGetDetailPrint2=t.handleOut=t.handleUpdatePrintNum=t.handleExport=t.handleGetDzDetailRecord=t.handleGetDetailRecord=t.handleGetDetailPrint=t.handleTabDZDetail=t.handleTabDetail=t.handleGetList=t.update=void 0;var n=a(3),d=l(n),u=a(283),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(u),c=a(28),i=a(79),o=a(35),E=l(o);t.update=function(e){return{type:r.OUTWAREHOUSELISTSELL_UPDATE,data:e}},t.handleGetList=function(e,t){return function(a){a({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{tableLoading:!0}});var l=(0,d.default)({},e.searchParams,{orderType:"S"});l.planDate&&(l.planDate=(0,E.default)(l.planDate).format("YYYY-MM-DD"));for(var n in l)"[object Object]"===Object.prototype.toString.call(l[n])&&(l[n]="productName"===n?l[n].children:l[n].value);l.initDate&&l.initDate.length&&(l.createTimeStart=(0,E.default)(l.initDate[0]).format("YYYY-MM-DD"),l.createTimeEnd=(0,E.default)(l.initDate[1]).format("YYYY-MM-DD")),l.initDate2&&l.initDate2.length&&(l.sendDateStart=(0,E.default)(l.initDate2[0]).format("YYYY-MM-DD"),l.sendDateEnd=(0,E.default)(l.initDate2[1]).format("YYYY-MM-DD")),delete l.initDate2,delete l.initDate,e.searchParams=l,t?(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_PAGE},e)).then(function(t){var l=e.searchParams,n=l.page,d=l.size;a({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{page:n,size:d,tableLoading:!1,total:t.result.total,selectedRowKeys:[],selectedRows:[],searchResult:t.result.list||[]}})}).catch(function(e){a({type:r.OUTWAREHOUSELISTSELL_FILE})}):(0,c.getData)((0,d.default)({api:i.API_SHIPPED_LOADCOUNTS},e)).then(function(t){var l=t.result,n=["0","1","2","3","4","5","6","7","8","9","10"],u="",o={tab0:"",tab1:"",tab2:"",tab3:"",tab4:"",tab5:"",tab6:"",tab7:"",tab8:"",tab9:"",tab10:""};l.map(function(e){o["tab"+e.key]=e.value});for(var E=0;E<n.length;E++){for(var f=0;f<l.length;f++)if(l[f].key==n[E]&&l[f].value){u=n[E];break}if(u)break}u&&(e.searchParams.status=u),(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_PAGE},e)).then(function(t){var l=e.searchParams,n=l.page,c=l.size;a({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:(0,d.default)({page:n,size:c,tableLoading:!1,total:t.result.total,tableActiveKey:u,selectedRowKeys:[],selectedRows:[],searchResult:t.result.list||[]},o)})}).catch(function(e){a({type:r.OUTWAREHOUSELISTSELL_FILE})})}).catch(function(e){a({type:r.OUTWAREHOUSELISTSELL_FILE})})}},t.handleTabDetail=function(e){return function(t){t({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{deliveryTableLoading:!0}}),(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_DETAIL},e)).then(function(e){t({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{deliveryTableLoading:!1,modalData:e.result||{}}})}).catch(function(e){t({type:r.OUTWAREHOUSELISTSELL_FILE})})}},t.handleTabDZDetail=function(e){return function(t){t({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{deliveryTableLoading:!0}}),(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_S01DETAIL},e)).then(function(e){t({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{deliveryTableLoading:!1,modalData:e.result||{}}})}).catch(function(e){t({type:r.OUTWAREHOUSELISTSELL_FILE})})}},t.handleGetDetailPrint=function(e){return function(t){t({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{printLoading:!0}}),(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_PRINT},e)).then(function(e){t({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{printLoading:!1,printData:e.result||[]}})}).catch(function(e){t({type:r.OUTWAREHOUSELISTSELL_FILE})})}},t.handleGetDetailRecord=function(e){return function(t){t({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{deliveryTableLoading:!0}}),(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_SHIPPEDTRACES},e)).then(function(e){t({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{deliveryTableLoading:!1,searchResultRecord:e.result||[]}})}).catch(function(e){t({type:r.OUTWAREHOUSELISTSELL_FILE})})}},t.handleGetDzDetailRecord=function(e){return function(t){t({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{dzSplitTableLoading:!0}}),(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_S01GROUPPRODUCTDETAIL},e)).then(function(e){t({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{dzSplitTableLoading:!1,searchResultRecord:e.result||[]}})}).catch(function(e){t({type:r.OUTWAREHOUSELISTSELL_FILE})})}},t.handleExport=function(e,t){return function(a){var l=(0,d.default)({},e.searchParams,{orderType:"S"});l.planDate&&(l.planDate=(0,E.default)(l.planDate).format("YYYY-MM-DD"));for(var n in l)"[object Object]"===Object.prototype.toString.call(l[n])&&(l[n]=l[n].value);l.initDate&&l.initDate.length&&(l.createTimeStart=(0,E.default)(l.initDate[0]).format("YYYY-MM-DD"),l.createTimeEnd=(0,E.default)(l.initDate[1]).format("YYYY-MM-DD")),l.initDate2&&l.initDate2.length&&(l.sendDateStart=(0,E.default)(l.initDate2[0]).format("YYYY-MM-DD"),l.sendDateEnd=(0,E.default)(l.initDate2[1]).format("YYYY-MM-DD")),delete l.initDate2,delete l.initDate,e.searchParams=l,(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_EXPORT},e)).then(function(e){t&&t()}).catch(function(e){a({type:r.OUTWAREHOUSELISTSELL_FILE})})}},t.handleUpdatePrintNum=function(e,t){return function(a){(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_PRINTTIMES},e)).then(function(e){t&&t()}).catch(function(e){a({type:r.OUTWAREHOUSELISTSELL_FILE})})}},t.handleOut=function(e,t,a){return function(l){(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_SALEORDERSHIPPED},e)).then(function(e){t&&t()}).catch(function(e){l({type:r.OUTWAREHOUSELISTSELL_FILE}),a&&a()})}},t.handleGetDetailPrint2=function(e){return function(t){t({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{printLoading:!0}}),(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_COLLECTPICKINGPRINT},e)).then(function(e){t({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{printLoading:!1,printData:e.result||[]}})}).catch(function(e){t({type:r.OUTWAREHOUSELISTSELL_FILE})})}},t.GetButtonPower=function(e){return function(t){(0,c.getData)((0,d.default)({api:i.API_GET_MENUS_PERMISSIONS_BANS},e)).then(function(e){var a=e.data;console.log(a,995);var l={};a.map(function(e){l[e.menuCode]=!0}),t({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:(0,d.default)({},l)})}).catch(function(e){t({type:r.OUTWAREHOUSELISTSELL_FILE})})}},t.BBCCancelOrder=function(e,t,a){return function(l){(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_BBC_ORDERCANCEL},e)).then(function(e){t&&t()}).catch(function(e){l({type:r.OUTWAREHOUSELISTSELL_FILE}),a&&a()})}},t.handleCyorDerchek=function(e,t,a){return function(l){(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_CYORDERCHECK},e)).then(function(e){t&&t(e)}).catch(function(e){l({type:r.OUTWAREHOUSELISTSELL_FILE}),a&&a()})}},t.handleExportShortage=function(e,t,a){return function(l){e.searchParams||(e=""),(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_EXPORTCYSHORTAGE},e)).then(function(e){t&&t()}).catch(function(e){l({type:r.OUTWAREHOUSELISTSELL_FILE}),a&&a()})}},t.handleCyorderPage=function(e,t,a){return function(l){(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_CYORDER},e)).then(function(e){l({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{detailData:e.result,oldData:e.result.items}}),t&&t()}).catch(function(e){l({type:r.OUTWAREHOUSELISTSELL_FILE}),a&&a()})}},t.handleExportCyorder=function(e,t,a){return function(l){(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_EXPORTCYORDER},e)).then(function(e){t&&t()}).catch(function(e){l({type:r.OUTWAREHOUSELISTSELL_FILE}),a&&a()})}},t.handleUpdatediff=function(e,t,a){return function(l){(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_UPDATEDIFF},e)).then(function(e){t&&t()}).catch(function(e){l({type:r.OUTWAREHOUSELISTSELL_FILE}),a&&a()})}},t.handleShippedorders=function(e,t,a){return function(l){(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_REMARK},e)).then(function(e){l({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{ReasonKeyValue:e.result}}),t&&t(e.result)}).catch(function(e){l({type:r.OUTWAREHOUSELISTSELL_FILE}),a&&a()})}},t.handleSignFor=function(e,t,a){return function(l){(0,c.getData)((0,d.default)({api:i.API_SHIPPEDORDERS_BUSINESSSIGN},e)).then(function(e){l({type:r.OUTWAREHOUSELISTSELL_UPDATE,data:{}}),t&&t(e)}).catch(function(e){l({type:r.OUTWAREHOUSELISTSELL_FILE}),a&&a()})}}},891:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,d,u=a(278),r=l(u),c=a(274),i=l(c),o=a(276),E=l(o),f=a(18),s=l(f),p=a(5),m=l(p),S=a(10),L=l(S),D=a(6),h=l(D),T=a(7),I=l(T),y=a(3),O=l(y),P=a(282),R=l(P);a(279),a(275),a(277),a(281);var U=a(0),_=l(U),A=a(108),b=a(999),g=R.default.TabPane,x=(n=(0,A.connect)(function(e){return(0,O.default)({},e.outWarehouseListSell,{userLoation:e.userLoation})},b.mapDispatchToProps))(d=function(e){function t(){(0,m.default)(this,t);var e=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.handleCloseModal=function(){var t=e.props.history;t.length>1?t.goBack():window.close()},e.state={},e.columns=[{title:"总量",children:[{title:"商品编码",width:150,dataIndex:"productCode",key:"productCode"},{title:"商品名称",width:150,dataIndex:"productName",key:"productName"},{title:"单位",width:100,dataIndex:"unit",key:"unit"},{title:"单价（元）",width:100,dataIndex:"price",key:"price"},{title:"数量",width:100,dataIndex:"planQty",key:"planQty"},{title:"发货数",width:150,dataIndex:"shippedQty",key:"shippedQty"},{title:"收货数",width:100,dataIndex:"receiveQty",key:"receiveQty"},{title:"总金额（元）",width:100,dataIndex:"amount",key:"amount"},{title:"发货全量",width:100,dataIndex:"allSendFlag",key:"allSendFlag"},{title:"备注",width:100,dataIndex:"remark",key:"remark"}]}],e.columnsT03=[{title:"总量",children:[{title:"商品编码",width:150,dataIndex:"productCode",key:"productCode"},{title:"商品名称",width:150,dataIndex:"productName",key:"productName"},{title:"单位",width:100,dataIndex:"unit",key:"unit"},{title:"单价（元）",width:100,dataIndex:"price",key:"price"},{title:"申偿数",width:100,dataIndex:"passQty",key:"passQty"},{title:"发货数",width:150,dataIndex:"shippedQty",key:"shippedQty"},{title:"拒绝数",width:100,dataIndex:"rejectQty",key:"rejectQty"},{title:"总金额（元）",width:100,dataIndex:"amount",key:"amount"},{title:"发货全量",width:100,dataIndex:"allSendFlag",key:"allSendFlag"},{title:"备注",width:100,dataIndex:"remark",key:"remark"}]}],e.columns2=[{title:"商品编码",width:150,dataIndex:"productCode",key:"productCode"},{title:"商品名称",width:150,dataIndex:"productName",key:"productName"},{title:"单位",width:100,dataIndex:"unit",key:"unit"},{title:"单价（元）",width:100,dataIndex:"price",key:"price"},{title:"发货数",width:100,dataIndex:"shippedQty",key:"shippedQty"},{title:"总金额（元）",width:100,dataIndex:"amount",key:"amount"}],e}return(0,I.default)(t,e),(0,L.default)(t,[{key:"componentDidMount",value:function(){this._getAsyncData()}},{key:"_getAsyncData",value:function(){var e=this.props;(0,e.handleTabDetail)({searchParams:{orderCode:e.match.params.id}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalData,l=t.modalData.shippedResponse,n=t.deliveryTableLoading,d=t.activeKey,u=t.update;return _.default.createElement("div",{className:"fullOrderDel"},_.default.createElement("span",{className:"ant-modal-close-x close",onClick:this.handleCloseModal}),_.default.createElement(R.default,{activeKey:d,onChange:function(e){u({activeKey:e})}},_.default.createElement(g,{tab:"出库单详情",key:"1"},_.default.createElement("div",{className:"content"},_.default.createElement("div",{className:"header"},_.default.createElement(i.default,{type:"flex",justify:"start"},_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"出库单号："),_.default.createElement("span",null,l&&l.orderCode||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"外部单号："),_.default.createElement("span",null,l&&l.externalOrderCode||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"出库地点："),_.default.createElement("span",null,(l&&l.sendLocationCode||"")+"-"+(l&&l.sendLocationName||""))),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"货主："),_.default.createElement("span",null,l&&l.shipperName||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"业务类型："),_.default.createElement("span",null,l&&l.businessTypeDesc||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"订单状态："),_.default.createElement("span",null,l&&l.statusDesc||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"出库单打印次数："),_.default.createElement("span",null,l&&l.printTimes||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"配送方："),_.default.createElement("span",null,(l&&l.deliveryCode||"")+"-"+(l&&l.deliveryName||""))),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"供应商："),_.default.createElement("span",null,l&&l.supplierName||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"配送门店："),_.default.createElement("span",null,(l&&l.shopCode||"")+"-"+(l&&l.shopName||""))),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"站点："),_.default.createElement("span",null,(l&&l.stationCode||"")+"-"+(l&&l.stationName||""))),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"配送客户："),_.default.createElement("span",null,(l&&l.customerCode||"")+"-"+(l&&l.customerName||""))),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"收货人："),_.default.createElement("span",null,l&&l.receiveName||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"收货人电话："),_.default.createElement("span",null,l&&l.receivePhoneNumber||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"收货地址："),_.default.createElement("span",null,l&&l.receiveAddress||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"订单总额："),_.default.createElement("span",null,a.orderAmount)),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"运费："),_.default.createElement("span",null,l&&l.deliveryFee||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"出库时间："),_.default.createElement("span",null,l&&l.sendTime||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"收货地点："),_.default.createElement("span",null,(l&&l.receiveLocationCode||"")+"-"+(l&&l.receiveLocationName||""))),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"转配地点："),_.default.createElement("span",null,(l&&l.transferLocationCode||"")+"-"+(l&&l.transferLocationName||""))),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"签收日期："),_.default.createElement("span",null,a.signDate||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"备注："),_.default.createElement("span",null,l&&l.remark||""))),_.default.createElement(i.default,{type:"flex",justify:"center",gutter:16,style:{marginTop:"28px"}},_.default.createElement(E.default,{className:"delBox"},_.default.createElement("label",null,"商品数量（已出/总量）："),_.default.createElement("span",null,a.shippedProductCount," /",a.productCount)),_.default.createElement(E.default,{className:"delBox"},_.default.createElement("label",null,"商品种类（已出/总量）："),_.default.createElement("span",null,a.shippedProductCategoryCount," /",a.productCategoryCount)))),_.default.createElement("div",{className:"foot"},_.default.createElement("div",{className:"table-group"},_.default.createElement(r.default,{rowKey:function(e){return e.id},loading:n,columns:l&&"T03"==l.shippedType?this.columnsT03:this.columns,scroll:{x:1150,y:400},dataSource:a.shippedOrderItemList,pagination:!1}))))),_.default.createElement(g,{tab:"出库明细（"+a.shippedBatchCount+"）",key:"2"},a.shippedBatchList&&a.shippedBatchList.map(function(t,a){return _.default.createElement("div",{className:"table-group",key:t.batchCode},_.default.createElement("div",{className:"header"},_.default.createElement(i.default,{type:"flex",justify:"start"},_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"出库批次："),_.default.createElement("span",null,t.batchCode||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"创建时间："),_.default.createElement("span",null,t.createTime||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"操作人："),_.default.createElement("span",null,t.createBy||"")),_.default.createElement(E.default,{span:6,className:"delBox"},_.default.createElement("label",null,"是否冲销："),_.default.createElement("span",null,t.writeOffFlag?"已冲销":"未冲销")))),_.default.createElement(r.default,{rowKey:function(e,t){return t},loading:n,columns:e.columns2,scroll:{x:700,y:400},dataSource:t.shippedBatchDetailList,pagination:!1}))}))))}}]),t}(U.PureComponent))||d;t.default=x,e.exports=t.default},999:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapDispatchToProps=void 0;var l=a(3),n=function(e){return e&&e.__esModule?e:{default:e}}(l),d=a(161),u=a(1001),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(u);t.mapDispatchToProps=function(e){return(0,d.bindActionCreators)((0,n.default)({},r),e)}}});
//# sourceMappingURL=76.5c6ada25a677684a155a.js.map